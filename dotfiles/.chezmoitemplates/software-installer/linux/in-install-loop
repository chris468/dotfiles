chezmoi:template:missing-key=zero
{{- if eq "asdf" (.spec.package_manager | default "asdf") }}
{{-   $versions := .spec.version | default "latest" }}
{{-   $versions = kindIs "slice" $versions | ternary ($versions | join " ") $versions }}
{{-   includeTemplate "software-installer/linux/install-package" (dict
        "name" .package
        "spec" .spec
        "install" .doInstall
        "install_command" (cat "asdf-install" .package (.spec.repo | default "" | squote) $versions)
        "remove_command" (cat "asdf plugin remove" .package "|| true")
      )
}}
{{- end }}
