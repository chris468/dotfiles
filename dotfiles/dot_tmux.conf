set -g default-terminal xterm-256color
set-option -sa terminal-overrides ",xterm*:Tc"

set -g escape-time 0

set-window-option -g mode-keys vi

bind -r k select-pane -U
bind -r j select-pane -D
bind -r h select-pane -L
bind -r l select-pane -R

bind -r \' select-window -l

bind Z 'last-pane ; resize-pane -Z'

unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

set-option -g pane-border-format ""
set -g pane-border-status bottom

set-option -g '@status_foreground' white
set-option -g '@status_background' black
set-option -g '@status_style' "fg=#{@status_foreground},bg=#{@status_background}"

set-option -g '@status_outer_segment_foreground' black
set-option -g '@status_outer_segment_background' cyan
set-option -g '@status_outer_segment_prefix_foreground' black
set-option -g '@status_outer_segment_prefix_background' white

set-option -g '@status_segment_foreground' white
set-option -g '@status_segment_background' brightblack
set-option -g '@status_segment_current_foreground' black
set-option -g '@status_segment_current_background' blue

set-option -g '@status_outer_segment_style' "fg=#{@status_outer_segment_foreground},bg=#{@status_outer_segment_background},bold"
set-option -g '@status_outer_segment_separator_style' "fg=#{@status_outer_segment_background},bg=#{@status_background},nobold"
set-option -g '@status_outer_segment_prefix_style' "fg=#{@status_outer_segment_prefix_foreground}#,bg=#{@status_outer_segment_prefix_background}#,bold"
set-option -g '@status_outer_segment_prefix_separator_style' "fg=#{@status_outer_segment_prefix_background},bg=#{@status_background},nobold"
set-option -g '@status_segment_style' "fg=#{@status_segment_foreground},bg=#{@status_segment_background}"
set-option -g '@status_segment_separator_style' "fg=#{@status_segment_background},bg=#{@status_background}"
set-option -g '@status_segment_current_style' "fg=#{@status_segment_current_foreground},bg=#{@status_segment_current_background}"
set-option -g '@status_segment_current_separator_style' "fg=#{@status_segment_current_background},bg=#{@status_background}"

set-option -g pane-border-style "fg=#{@status_segment_background},bg=default"
set-option -g pane-active-border-style "fg=#{@status_segment_current_background},bg=default"

# options didn't work for setting pane colours
set-option -g display-panes-colour brightblack
set-option -g display-panes-active-colour blue

set-option -g message-style fg=cyan,bg=black
set-option -g message-command-style fg=blue,bg=black
set-option -g copy-mode-match-style fg=black,bg=blue
set-option -g copy-mode-current-match-style fg=black,bg=cyan
set-option -g copy-mode-mark-style fg=black,bg=cyan
set-option -g mode-style fg=black,bg=blue

set -g status-interval 1

set-option -g status-style "#{E:@status_style}"
set -g status-left "#{?client_prefix,#[#{E:@status_outer_segment_prefix_style}],#[#{E:@status_outer_segment_style}]} #S #{?client_prefix,#[#{E:@status_outer_segment_prefix_separator_style}],#[#{E:@status_outer_segment_separator_style}]}"
set -g status-right "#[#{E:@status_segment_separator_style}]#[#{E:@status_segment_style}] #(date -u +'%%H:%%M %%m/%%d') #[#{E:@status_segment_separator_style}]#[#{E:@status_segment_style}] #(date +'%%H:%%M%%z %%m/%%d') #[#{E:@status_segment_separator_style}]#{?client_prefix,#[#{E:@status_outer_segment_prefix_separator_style}],#[#{E:@status_outer_segment_separator_style}]}#{?client_prefix,#[#{E:@status_outer_segment_prefix_style}],#[#{E:@status_outer_segment_style}]} #H "

set -g window-status-format "#[#{E:@status_segment_separator_style}]#[#{E:@status_segment_style}] #I#W #[#{E:@status_segment_separator_style}]"
set -g window-status-current-format "#[#{E:@status_segment_current_separator_style}]#[#{E:@status_segment_current_style}] #I#W #[#{E:@status_segment_current_separator_style}]"
set -g window-status-separator ""


set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'MunifTanjim/tmux-suspend'

set -g status-right-length 60

set -g @suspend_on_resume_command "tmux \
  set-option -q '@status_segment_current_background' blue\\; \
  set-option -q '@status_outer_segment_background' cyan "

set -g @suspend_on_suspend_command "tmux \
  set-option -q '@status_segment_current_background' darkgray \\; \
  set-option -q '@status_outer_segment_background' darkgray"

set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.config/tmux/plugins'

if "test ! -d ~/.config/tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm ~/.config/tmux/plugins/tpm && ~/.config/tmux/plugins/tpm/bin/install_plugins'"

run '~/.config/tmux/plugins/tpm/tpm'
